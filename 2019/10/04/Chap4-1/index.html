<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">

    

    
    <title>[Kotlin] 클래스와 인터페이스 | VictoryWoo</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="코틀린 인 액션,안드로이드">
    
    <link rel="stylesheet" href="https://cdn.rawgit.com/innks/NanumSquareRound/master/nanumsquareround.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/theeluwin/NotoSansKR-Hestia@master/stylesheets/NotoSansKR-Hestia.css">
    <meta name="description" content="클래스 계층 정의1. 코틀린 인터페이스  추상 메소드 뿐 아니라 구현이 있는 메소드도 정의할 수 있다. 아무런 상태(필드)도 들어갈 수 없다. 인터페이스의 선언은 자바와 같으며, extends(상속)와 implements(구현)은 코틀린에서는 모두 콜론(:) 키워드를 사용해 클래스 확장과 인터페이스 구현을 모두 처리한다. override 변경자는 상위 클래">
<meta name="keywords" content="코틀린 인 액션,안드로이드">
<meta property="og:type" content="article">
<meta property="og:title" content="[Kotlin] 클래스와 인터페이스">
<meta property="og:url" content="http://victorywoolee/victorywoolee.github.io/2019/10/04/Chap4-1/index.html">
<meta property="og:site_name" content="VictoryWoo">
<meta property="og:description" content="클래스 계층 정의1. 코틀린 인터페이스  추상 메소드 뿐 아니라 구현이 있는 메소드도 정의할 수 있다. 아무런 상태(필드)도 들어갈 수 없다. 인터페이스의 선언은 자바와 같으며, extends(상속)와 implements(구현)은 코틀린에서는 모두 콜론(:) 키워드를 사용해 클래스 확장과 인터페이스 구현을 모두 처리한다. override 변경자는 상위 클래">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-10-12T05:53:56.163Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[Kotlin] 클래스와 인터페이스">
<meta name="twitter:description" content="클래스 계층 정의1. 코틀린 인터페이스  추상 메소드 뿐 아니라 구현이 있는 메소드도 정의할 수 있다. 아무런 상태(필드)도 들어갈 수 없다. 인터페이스의 선언은 자바와 같으며, extends(상속)와 implements(구현)은 코틀린에서는 모두 콜론(:) 키워드를 사용해 클래스 확장과 인터페이스 구현을 모두 처리한다. override 변경자는 상위 클래">
    

    
        <link rel="alternate" href="/" title="VictoryWoo" type="application/atom+xml">
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/3.3.1/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    


</head>
</html>
<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">VictoryWoo&#39;s Blog</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/">Android</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Clean-Code/">Clean Code</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/ETC/">ETC</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Git/">Git</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kotlin/">Kotlin</a></li></ul>
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about/index.html">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Kotlin/">Kotlin</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-Chap4-1" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        [Kotlin] 클래스와 인터페이스
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2019/10/04/Chap4-1/" class="article-date">
            <time datetime="2019-10-04T06:35:18.000Z" itemprop="datePublished">2019-10-04</time>
        </a>
    </div>

		

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/안드로이드/">안드로이드</a>, <a class="tag-link" href="/tags/코틀린-인-액션/">코틀린 인 액션</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <h2 id="클래스-계층-정의"><a href="#클래스-계층-정의" class="headerlink" title="클래스 계층 정의"></a>클래스 계층 정의</h2><p><strong>1. 코틀린 인터페이스</strong></p>
<ul>
<li>추상 메소드 뿐 아니라 구현이 있는 메소드도 정의할 수 있다.</li>
<li>아무런 상태(필드)도 들어갈 수 없다.</li>
<li>인터페이스의 선언은 자바와 같으며, extends(상속)와 implements(구현)은 코틀린에서는 모두 콜론(:) 키워드를 사용해 클래스 확장과 인터페이스 구현을 모두 처리한다.</li>
<li>override 변경자는 상위 클래스나 상위 인터페이스에 있는 프로퍼티나 메소드를 오버라이드한다는 표시다. 꼭 사용해야 한다.</li>
<li>디폴트 구현은 단지 메소드 본문은 시그니처 뒤에 작성하면 된다.</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Clickable</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">click</span><span class="params">()</span></span> <span class="comment">// 일반 메소드 선언</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">showOff</span><span class="params">()</span></span> = println(<span class="string">"I'm clickable!! "</span>) <span class="comment">// 디폴트 구현이 있는 메소드</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>위 인터페이스를 구현하는 클래스는 click에 대한 구현을 제공해야 한다. 반면, showOff() 메소드의 경우 새로운 동작은 정의할 수도 있고 그냥 정의를 생략해서 디폴트 구현을 사용할 수도 있다. 그러면 다른 인터페이스가 showOff()와 같은 구현을 포함한다고 가정해보자.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Focusable</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">setFocus</span><span class="params">(b: <span class="type">Boolean</span>)</span></span> = println(<span class="string">"I <span class="subst">$&#123;if (b) "got" else "lost"&#125;</span> focus. "</span>)</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">showOff</span><span class="params">()</span></span> = println(<span class="string">"I'm focusable!! "</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>이제 한 클래스에서 이 두 인터페이스를 함께 구현하면 어떻게 될지 궁금하다. 두 인터페이스 모두 디폴트 구현이 들어있는 showOff() 메소드가 있다. 어느쪽 showOff() 메소드가 선택될까? <strong>결론은 어느쪽도 선택되지 않는다.</strong>  클래스가 구현하는 두 상위 인터페이스에 정의된 showOff() 구현을 대체할 오버라이딩 메소드를 직접 제공하지 않으면 컴파일 오류가 발생한다.</p>
<p>이처럼 코틀린 컴파일러는 두 메소드를 아우르는 구현을 하위 클래스에 직접 구현하게 강제한다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Button</span>: <span class="type">Clickable</span>, <span class="type">Focusable&#123;</span></span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">click</span><span class="params">()</span></span> = println(<span class="string">"I was clicked!! "</span>)</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">showOff</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>&lt;Clickable&gt;.showOff()</span><br><span class="line">        <span class="keyword">super</span>&lt;Focusable&gt;.showOff()</span><br><span class="line">        <span class="comment">// 상위 타입의 이름을 꺽쇠 괄호 사이에 넣어서 super를 지정하면 </span></span><br><span class="line">        <span class="comment">// 어떤 상위 타입의 메소드를 호출할 지 지정할 수 있다.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>super<clickable>.showOff()처럼 꺽쇠 괄호 안에 기반 타입 이름을 지정한다. 상속한 구현 중 단 하나만 호출해도 된다면 상위 타입의 메소드를 하나만 지정해도 된다.</clickable></p>
<p><strong>2. open, final, abstract 변경자</strong></p>
<ul>
<li>취약한 기반 클래스라는 문제는 하위 클래스가 기반 클래스에 대해 가졌던 가정이 기반 클래스를 변경함으로써 깨져버린 경우에 생긴다. 어떤 클래스가 자신을 상속하는 방법에 대해 정확한 규칙(<strong>어떤 메소드를 어떻게 오버라이드해야 하는지 등</strong>)을 제공하지 않는다면 그 클래스의 클라이언트는 기반 클래스를 작성한 사람의 의도와 다른 방식으로 메소드를 오버라이드할 위험이 있다. 모든 하위 클래스를 분석하는 것은 불가능하므로 기반 클래스를 변경하는 경우, 하위 클래스의 동작이 예기치 않게 바뀔 수도 있다는 면에서 기반 클래스는 <code>취약</code>하다.</li>
<li>위와 같은 문제를 고려해 코틀린의 클래스와 메소드는 기본적으로 final이다. </li>
<li>어떤 클래스의 상속을 허용하려면 클래스 앞에 <code>open</code> 변경자를 붙여야 한다. 그와 더불어 오버라이드를 허용하고 싶은 메소드 앞에도 open 변경자를 붙여야 한다.</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// open을 통해서 상속 가능하도록 열려 있음.</span></span><br><span class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">RichButton</span>: <span class="type">Clickable&#123;</span></span></span><br><span class="line">    <span class="comment">// final로 하위 클래스에서 오버라이드할 수 없다. </span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">disable</span><span class="params">()</span></span> &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// open을 통해서 오버라이드 가능하도록 열려있다.</span></span><br><span class="line">    <span class="keyword">open</span> <span class="function"><span class="keyword">fun</span> <span class="title">animate</span><span class="params">()</span></span> &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 상위 클래스에서 선언된 열려있는 메소드를 오버라이드한다.</span></span><br><span class="line">    <span class="comment">// 오버라이드한 메소드는 기본적으로 열려있다.</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">click</span><span class="params">()</span></span> &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>주의해야 할 점은 기반 클래스나 인터페이스의 멤버를 오버라이드하는 경우 그 메소드는 <strong>기본적으로 열려있다.</strong> 오버라이드하는 메소드의 구현을 하위 클래스에서 오버라이드하지 못하게 금지하려면 오버라이드하는 메소드 앞에 final 변경자를 붙여 닫혀 있도록 만들어야 한다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">RichButton</span>: <span class="type">Clickable &#123;</span></span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">click</span><span class="params">()</span></span> &#123; &#125;</span><br><span class="line">    <span class="comment">// 이렇게 함으로써 오버라이드한 메소드는 열려있지 않게 된다.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Tip<br>스마트 캐스트는 타입 검사 뒤에 값이 변경될 수 없는 변수에만 적용이 가능하다. 클래스 프로퍼티의 경우 val이면서 커스텀 접근자가 없는 경우에만 사용할 수 있다는 의미다. 이 요구 사항은 프로퍼티가 final이어야만 한다는 뜻이기도 하다. final이 아니라면 그 프로퍼티를 다른 클래스가 상속하면서 커스텀 접근자를 정의함으로써 스마트 캐스트의 요구 사항을 깰 수도 있기 때문이다. </p>
</blockquote>
<p><strong>abstract</strong></p>
<ul>
<li>abstract를 사용해 추상 클래스를 선언할 수 있으며, 추상 클래스는 인스턴스화 할 수 없다.</li>
<li>구현이 없는 추상 멤버가 있어 하위 클래스에서 추상 멤버를 오버라이드 해야 한다. </li>
<li>추상 멤버는 항상 열려있다. 따라서 open을 명시할 필요가 없다. </li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animated</span> </span>&#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="function"><span class="keyword">fun</span> <span class="title">animate</span><span class="params">()</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">open</span> <span class="function"><span class="keyword">fun</span> <span class="title">stopAnimating</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">animateTwice</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>추상 클래스에 속하는 비추상 함수는 기본적으로 final이지만, 원한다면 open으로 오버라이드를 허용할 수 있다.</li>
</ul>
<p><strong>상속 제어 변경자</strong></p>
<p>인터페이스 멤버의 경우 final, open, abstract를 사용하지 않는다. 인터페이스 멤버는 항상 열려있으며, final로 변경할 수 없다. 인터페이스 멤버에게 본문이 없으면 자동으로 추상 멤버가 되지만, 그래도 따로 abstract를 명시적으로 지정할 필요가 없다.</p>
<ul>
<li>final : 오버라이드할 수 없으며, 이는 클래스 멤버의 기본 변경자다.</li>
<li>open : 오버라이드할 수 있으며, 반드시 open을 명시해야 오버라이드할 수 있다.</li>
<li>abstract : 반드시 오버라이드해야 하며, 추상 클래스의 멤버에만 이 변경자를 붙일 수 있다. 추상 멤버에는 구현체가 있으면 안된다.</li>
<li>override : 상위 클래스나 상위 인스턴스의 멤버를 오버라이드하는 것을 나타낸다. 오버라이드하는 멤버는 기본적으로 열려있다. 하위 클래스의 오버라이드를 금지하라면 final을 명시해야 한다.</li>
</ul>
<p><strong>가시성 변경자 : 기본적으로 공개</strong></p>
<ul>
<li>클래스 외부 접근을 제어한다. 어떤 클래스의 구현에 대한 접근을 제한함으로써 그 클래스에 의존하는 외부 코드를 깨지 않고도 클래스 내부 구현을 변경할 수 있다. </li>
<li>public, protected, private이 있다.</li>
<li>기본 변경자는 모두 공개된다. 즉, public이다.</li>
<li>코틀린은 패키지를 가시성 제어에 사용하지 않는다.</li>
<li><code>internal</code>은 모듈 내부에서만 볼 수 있다는 뜻이다.</li>
<li>모듈 : 한 번에 한꺼번에 컴파일되는 코틀린 파일들을 의미한다.</li>
<li>자바에서는 패키지가 같은 클래스를 선언하기만 하면 외부의 다른 프로젝트에서 접근이 가능하기 때문에 캡슐화가 깨지기 쉽다. 하지만, 모듈 내부 가시성은 모듈의 구현에 대해 진정한 캡슐화를 제공한다는 장점이 있다.</li>
<li>최상위 선언에 대해 private 가시성을 허용한다.</li>
</ul>
<p><strong>코틀린의 가시성 변경자</strong></p>
<ul>
<li>public(기본) : 클래스 멤버와 최상위 선언 모두 모든 곳에서 볼 수 있다.</li>
<li>internal : 클래스 멤버, 최상위 선언 모두 같은 모듈 안에서만 볼 수 있다.</li>
<li>protected : 클래스 멤버는 하위 클래스 안에서만 볼 수 있으며, 최상위 선언에 적용할 수 없다.</li>
<li>private : 클래스 멤버는 같은 클래스 안에서만 볼 수 있으며, 최상위 선언에 적용되면 같은 파일 안에서만 볼 수 있다.</li>
</ul>
<p>유의해야할 점은 자바에서는 같은 패키지 안에서 <strong>protected</strong> 멤버에 접근할 수 있지만, 코틀린은 그렇지 않다는 것이다. 코틀린에서 protected 멤버는 오직 어떤 클래스나 그 클래스를 상속한 클래스 안에서만 보인다. <strong>클래스를 확장한 함수는 그 클래스의 private이나 protected 멤버에 접근할 수 없다.</strong></p>
<h2 id="내부-클래스와-중첩된-클래스"><a href="#내부-클래스와-중첩된-클래스" class="headerlink" title="내부 클래스와 중첩된 클래스"></a>내부 클래스와 중첩된 클래스</h2><ul>
<li>클래스 안에 다른 클래스를 선언할 수 있다.</li>
<li>클래스 안에 다른 클래스를 선언하면 도우미 클래스를 캡슐화하거나 코드 정의를 그 코드를 사용하는 곳 가까이에 두고 싶을 때 유용하다. </li>
<li>코틀린의 중첩 클래스는 명시적으로 요청하지 않는 한 바깥쪽 클래스 인스턴스에 대한 접근 권한이 없다. </li>
<li>책의 예제 참고<ul>
<li>자바에서는 클래스 안에 정의한 클래스는 자동으로 내부 클래스가 된다. 따라서 내부의 클래스는 바깥 클래스에 대한 참조를 묵시적으로 포함한다. 그 참조로 인해 내부 클래스를 직렬화할 수 없다. 바깥 클래스를 직렬화할 수 없으므로 바깥 클래스에 대한 참조가 내부 클래스의 직렬화를 방해한다.</li>
<li><code>자바의 내부 클래스 특징 살펴보기</code></li>
</ul>
</li>
<li>문제를 해결하기 위해서는 내부 클래스를 <code>static</code>으로 선언해야 한다. 중첩 클래스를 <code>static</code>으로 선언하면 그 클래스를 둘러싼 바깥쪽 클래스에 대한 묵시적인 참조가 사라진다.</li>
<li>코틀린에서 중첩된 클래스가 기본적으로 동작하는 방식은 위와 반대이다.</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Button</span>: <span class="type">View &#123;</span></span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getCurrentState</span><span class="params">()</span></span>: State = ButtonState()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">restoreState</span><span class="params">(state: <span class="type">State</span>)</span></span> &#123; .. &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">ButtonState</span>: <span class="type">State &#123; .. &#125;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>코틀린 중첩 클래스에 아무런 변경자가 붙지 않으면 자바 static 중첩 클래스와 같다.(즉, 바깥쪽 클래스에 대한 참조가 없다.) 이를 내부 클래스로 변경해서 바깥쪽 클래스에 대한 참조를 포함하게 만들기 위해서는 inner 변경자를 붙이면 된다.</li>
</ul>
<table>
<thead>
<tr>
<th align="center">클래스 B 안에 정의된 클래스 A</th>
<th align="center">자바에서는</th>
<th align="center">코틀린에서는</th>
</tr>
</thead>
<tbody><tr>
<td align="center">중첩 클래스(바깥쪽 클래스에 대한 참조를 저장하지 않음)</td>
<td align="center">static class A</td>
<td align="center">class A</td>
</tr>
<tr>
<td align="center">내부 클래스(바깥쪽 클래스에 대한 참조를 저장함)</td>
<td align="center">class A</td>
<td align="center">inner class A</td>
</tr>
</tbody></table>
<ul>
<li>클래스 계층을 만들되 그 계층에 속한 클래스의 수를 제한하고 싶은 경우 중첩 클래스를 쓰면 편리하다.</li>
</ul>
<h2 id="봉인된-클래스"><a href="#봉인된-클래스" class="headerlink" title="봉인된 클래스"></a>봉인된 클래스</h2><ul>
<li>클래스 계층 정의 시 계층 확장 제한</li>
<li>아래에서는 상위 클래스인 Expr에 숫자를 표현하는 Num과 덧셈 연산을 표현하는 Sum이라는 두 하위 클래스가 존재한다.</li>
<li>When 식에서 이 모든 하위 클래스를 처리하면 편리하지만, When 식에서 Num과 Sum이 아닌 경우를 처리하는 <strong>else 분기를 반드시 넣어야 한다.</strong><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Expr</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Num</span></span>(<span class="keyword">val</span> value: <span class="built_in">Int</span>): Expr</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sume</span></span>(<span class="keyword">val</span> left: Expr, <span class="keyword">val</span> right: Expr): Expr</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">eval</span><span class="params">(e: <span class="type">Expr</span>)</span></span> : <span class="built_in">Int</span> =</span><br><span class="line">    <span class="keyword">when</span>(e)&#123;</span><br><span class="line">    	<span class="keyword">is</span> Num -&gt; e.value</span><br><span class="line">    	<span class="keyword">is</span> Sum -&gt; eval(e.right) + eval(e.left)</span><br><span class="line">    	<span class="keyword">else</span> -&gt; </span><br><span class="line">    		<span class="keyword">throw</span> IllegalArgumentException(<span class="string">"Unknown expression"</span>)</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>코틀린 컴파일러는 when을 사용해 Expr 타입의 값을 검사할 때 꼭 디폴트 분기인 else 분기를 덧붙이게 강제한다. 위의 코드는 else 분기에서 반환할 만한 의미 있는 값이 없으므로 예외를 던진다.</p>
<p>항상 디폴트 분기를 추가하는게 편하지 않다. 그리고 디폴트 분기가 있으면 클래스 계층에 새로운 하위 클래스를 추가하더라도 컴파일러가 when이 모든 경우를 처리하는지 제대로 검사할 수 없다. 혹여나 실수로 새로운 클래스에 대한 처리를 잊어버리더라도 디폴트 분기가 선택되기 때문에 심각한 버그가 발생할 수 있다.</p>
<p>이런 문제에 대한 해답은 <code>sealed</code> 클래스다. 상위 클래스에 sealed 변경자를 붙이면 그 상위 클래스를 상속한 하위 클래스 정의를 제한할 수 있다. </p>
<p>sealed 클래스의 하위 클래스를 정의할 때는 반드시 상위 클래스 안에 중첩시켜야 한다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sealed</span> <span class="class"><span class="keyword">class</span> <span class="title">Expr</span></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Num</span></span>(<span class="keyword">val</span> value: <span class="built_in">Int</span>): Expr()</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Sume</span></span>(<span class="keyword">val</span> left: Expr, <span class="keyword">val</span> right: Expr): Expr()</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">eval</span><span class="params">(e: <span class="type">Expr</span>)</span></span> : <span class="built_in">Int</span> = </span><br><span class="line">    <span class="keyword">when</span>(e) &#123;</span><br><span class="line">    	<span class="keyword">is</span> Expr.Num -&gt; e.value</span><br><span class="line">    	<span class="keyword">is</span> Expr.Sum -&gt; eval(e.right) + eval(e.left)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>when 식이 sealed 클래스의 모든 하위 클래스를 검사하므로 별도의 디폴트(else) 분기가 없어도 된다.</strong></p>
<ul>
<li>sealed 클래스는 자동으로 open이 되어 상속 가능하다.</li>
<li>외부에 자신을 상속한 클래스를 둘 수 없다.</li>
<li>sealed 클래스에 속한 값에 대해 디폴트 분기를 사용하지 않고 when 식을 사용하면 나중에 sealed 클래스의 상속 계층에 새로운 하위 클래스를 추가해도 when 식이 컴파일되지 않는다. 따라서 when 식을 고쳐야 한다.</li>
<li>내부적으로 Expr 클래스는 private한 생성자를 가진다. 그 생성자는 클래스 내부에서만 호출할 수 있다. sealed 인터페이스를 정의할 수는 없다. 왜그럴까? 봉인된 인터페이스를 만들 수 있다면 그 인터페이스를 자바 쪽에서 구현하지 못하게 막을 수 있는 수단이 코틀린 컴파일러에게 없기 때문이다.</li>
<li>코틀린 1.1부터는 sealed 클래스와 같은 파일의 아무데서나 상위 클래스를 상속한 하위 클래스를 만들 수 있고, 데이터 클래스로 하위 클래스를 정의할 수도 있다.</li>
</ul>

        </div>
        <footer class="article-footer">
            



    <a data-url="http://victorywoolee/victorywoolee.github.io/2019/10/04/Chap4-1/" data-id="ck1yw4p5j000wjr3rg8u12z0a" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "Victory Woo"
        },
        "headline": "[Kotlin] 클래스와 인터페이스",
        "image": "http://victorywoolee/victorywoolee.github.io",
        "keywords": "코틀린 인 액션 안드로이드",
        "genre": "Kotlin",
        "datePublished": "2019-10-04",
        "dateCreated": "2019-10-04",
        "dateModified": "2019-10-12",
        "url": "http://victorywoolee/victorywoolee.github.io/2019/10/04/Chap4-1/",
        "description": "클래스 계층 정의1. 코틀린 인터페이스

추상 메소드 뿐 아니라 구현이 있는 메소드도 정의할 수 있다.
아무런 상태(필드)도 들어갈 수 없다.
인터페이스의 선언은 자바와 같으며, extends(상속)와 implements(구현)은 코틀린에서는 모두 콜론(:) 키워드를 사용해 클래스 확장과 인터페이스 구현을 모두 처리한다.
override 변경자는 상위 클래",
        "wordCount": 1850
    }
</script>

</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/victorywoolee" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2019/10/04/CleanCode07/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            [CleanCode] 7장
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2019/10/04/Chap3-2/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">[Kotlin] 문자열과 정규식 다루기</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Clean-Code/">Clean Code</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ETC/">ETC</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kotlin/">Kotlin</a><span class="category-list-count">13</span></li></ul>
        </div>
    </div>


            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="no-thumbnail">
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Kotlin/">Kotlin</a></p>
                            <p class="item-title"><a href="/2019/10/20/Chap6-2/" class="title">[Kotlin] 타입 시스템 - 널 가능성2</a></p>
                            <p class="item-date"><time datetime="2019-10-20T11:09:51.000Z" itemprop="datePublished">2019-10-20</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Kotlin/">Kotlin</a></p>
                            <p class="item-title"><a href="/2019/10/19/Chap6-1/" class="title">[Kotlin] 타입 시스템 - 널 가능성</a></p>
                            <p class="item-date"><time datetime="2019-10-19T14:20:47.000Z" itemprop="datePublished">2019-10-19</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/ETC/">ETC</a></p>
                            <p class="item-title"><a href="/2019/10/19/Method-Name/" class="title">[ETC] Method 이름</a></p>
                            <p class="item-date"><time datetime="2019-10-19T04:28:36.000Z" itemprop="datePublished">2019-10-19</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Android/">Android</a></p>
                            <p class="item-title"><a href="/2019/10/19/Android-TabLayout/" class="title">[Android] TabLayout</a></p>
                            <p class="item-date"><time datetime="2019-10-19T04:24:13.000Z" itemprop="datePublished">2019-10-19</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/ETC/">ETC</a></p>
                            <p class="item-title"><a href="/2019/10/19/Compile-Build/" class="title">[ETC] Compile, Build</a></p>
                            <p class="item-date"><time datetime="2019-10-19T03:12:59.000Z" itemprop="datePublished">2019-10-19</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">19</span></li></ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2019 Victory Woo</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'http://victorywoolee/victorywoolee.github.io/2019/10/04/Chap4-1/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
